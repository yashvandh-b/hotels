<% if logged_in? %>
    <h1>Edit Profile</h1>

    <%= form_with(model: @user) do |form| %>
    <% if @user.errors.any? %>
        <div id="error_explanation">
        <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

        <ul>
            <% @user.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        </div>
    <% end %>

    <div class="field form-group">
        <%= form.label :email %>
        <%= form.email_field :email, class: "form-control" %><br/>
    </div>

    <div class="field form-group">
        <%= form.label :password %>
        <%= form.password_field :password, class: "form-control" %><br/>
    </div>

    <div class="field form-group">
        <%= form.label :password_confirmation %>
        <%= form.password_field :password_confirmation, class: "form-control" %><br/>
    </div>

    <div class="field form-group">
        <%= form.label :role %>
        <%= form.number_field :role, class: "form-control" %><br/>
    </div>

    <div class="actions">
        <%= form.submit "Update", class: "btn btn-primary" %><br/>
    </div>
    <br/>

    <% end %>

    <% if is_superadmin? %>
        <%= link_to 'Delete', user_path(@user.id), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %>
    <%end%>
    <%= link_to 'Back', manage_path, class: "btn btn-dark" %>
<%else%>
    <% controller.redirect_to root_path %>
<%end%>


